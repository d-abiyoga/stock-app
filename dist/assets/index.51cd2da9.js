console.log("App.js has been loaded"),window.addEventListener("click",(e=>{if(e.target.classList.contains("calcAverageButton")){let r=function(e){let t=e.parentElement,n={};return["currentAveragePrice","currentShareQuantity","buyingPrice","buyingQuantity"].forEach((e=>{let r=e+"-fieldset";n[e]=parseFloat(t.children.namedItem(r).children[1].children[1].value)})),n}(e.target);console.log(r);let i=function(e){console.log("calculate average price button is loaded");let t=0;t=(e.currentAveragePrice*e.currentShareQuantity+e.buyingPrice*e.buyingQuantity)/(e.currentShareQuantity+e.buyingQuantity),console.log(`newAveragePrice value is ... ${t}`);let n=e.currentAveragePrice*e.currentShareQuantity*100,r=e.buyingPrice*e.buyingQuantity*100,i=n+r,a=(e.currentAveragePrice-e.buyingPrice)/e.buyingPrice*100,l=(t-e.buyingPrice)/e.buyingPrice*100;return{newAveragePrice:t,currentEquity:n,additionalEquity:r,totalEquity:i,currentPotGL:a,newPotGL:l}}(r);t=e.target,n=i.newAveragePrice.toFixed(2),t.parentElement.children.namedItem("newAveragePrice-fieldset").children[1].innerHTML=n,function(e,t,n,r){let i=e.parentElement,a=i.nextElementSibling.children.namedItem("currentEquity-fieldset").children[1],l=i.nextElementSibling.children.namedItem("additionalEquity-fieldset").children[1],c=i.nextElementSibling.children.namedItem("totalEquity-fieldset").children[1];console.log(c),a.innerHTML=`Rp. ${(new Intl.NumberFormat).format(t)}`,l.innerHTML=`Rp. ${(new Intl.NumberFormat).format(n)}`,c.innerHTML=`Rp. ${(new Intl.NumberFormat).format(r)}`}(e.target,i.currentEquity,i.additionalEquity,i.totalEquity),function(e,t,n){let r=e.parentElement,i=r.nextElementSibling.children.namedItem("currentPotGL-fieldset").children[1],a=r.nextElementSibling.children.namedItem("newPotGL-fieldset").children[1];i.innerHTML=`${t.toFixed(2)}%`,a.innerHTML=`${n.toFixed(2)}%`}(e.target,i.currentPotGL,i.newPotGL)}var t,n}));new class{constructor(){this.html=document.getElementById("buyingPrice")}};document.getElementById("buyingPrice").addEventListener("change",(e=>e.target.value<200?e.target.step=1:e.target.value<500?e.target.step=2:500==e.target.value?e.target.step=5:2e3==e.target.value?e.target.step=10:e.target.value<2e3?e.target.step=5:5e3==e.target.value||e.target.value<5e3?e.target.step=10:e.target.value>5e3?e.target.step=25:void console.log("something error")));const e=document.getElementById("ticker"),t=document.getElementById("tickerInput");let n=[];fetch("idx-stock.json").then((e=>e.json())).then((r=>{var i,a;r.forEach((e=>{n.push(e.KodeEmiten)})),function(e,t){t.forEach((t=>{let n=e.appendChild(document.createElement("option"));n.value=t,n.appendChild(document.createTextNode(t))}))}(e,n),i=t,a=n[0],i.placeholder=a})).catch((e=>{console.log("fetching stock data error")})),t.addEventListener("change",(e=>{if("4"==e.target.value.length){console.log("the ticker is 4 char length");let t=e.target.value.toUpperCase();e.target.value=t,n.includes(t)&&(console.log(`${t} is in array`),currentAveragePriceHTML.focus())}else console.log("not 4 char length")}));
